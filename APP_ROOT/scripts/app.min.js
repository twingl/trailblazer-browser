(function(){window.Twingl=Ember.Application.create({rootElement:"#app",customEvents:{close:"webviewClose",consolemessage:"webviewConsoleMessage",contentload:"webviewContentLoad",dialog:"webviewClose",exit:"webviewExit",findupdate:"webviewFindUpdate",loadabort:"webviewLoadAbort",loadcommit:"webviewLoadCommit",loadredirect:"webviewLoadRedirect",loadstart:"webviewLoadStart",loadstop:"webviewLoadStop",newwindow:"webviewNewWindow",permissionrequest:"webviewPermissionRequest",responsive:"webviewResponsive",sizechanged:"webviewSizeChanged",unresponsive:"webviewUnresponsive",zoomchange:"webviewZoomChanged"}}),Twingl.views||(Twingl.views={})}).call(this);
(function(){Twingl.IndexController=Ember.Controller.extend()}).call(this);
(function(){Twingl.NavigationController=Ember.Controller.extend({needs:["webview","tree"],webview:Ember.computed.alias("controllers.webview"),tree:Ember.computed.alias("controllers.tree"),url:"",loading:!1,state:void 0,states:{"default":0,nav_url:1,hist_back:2,hist_forward:3,nav_tree:4},updateTree:function(t){switch(this.state){case this.states.nav_url:return this.get("tree").send("newRoot",t),this.state=this.states["default"];case this.states.hist_back:if(t!==this.get("url"))return this.get("tree").send("historyPop"),this.state=this.states["default"];break;case this.states.hist_forward:return this.get("tree").send("historyPush"),this.state=this.states["default"];case this.states.nav_tree:return this.state=this.states["default"];default:return this.get("tree").send("advance",t),this.state=this.states["default"]}},actions:{navigateUrl:function(){return this.set("state",this.states.nav_url),this.get("webview").navigate(this.url)},navigateHistoryBack:function(){return this.set("state",this.states.hist_back),this.get("webview").navigateBack()},navigateHistoryForward:function(){return this.set("state",this.states.hist_forward),this.get("webview").navigateForward()},navigateReload:function(){return this.get("webview").reload()},jumpToUrl:function(t){return console.log("[STUB] jumpToUrl: "+t)},loadCommit:function(t){return this.updateTree(t.originalEvent.url),this.set("url",t.originalEvent.url)},loadRedirect:function(t){return this.set("url",t.originalEvent.url)},newWindow:function(t){return this.get("tree").send("newChild",t.originalEvent.targetUrl)}}})}).call(this);
(function(){Twingl.TreeController=Ember.Controller.extend({needs:["navigation"],actions:{newRoot:function(n){return console.log("Creating new root node: "+n)},newChild:function(n){return console.log("Creating child node: "+n)},advance:function(n){return console.log("Advancing to new node: "+n)},historyPop:function(){return console.log("Pop - moving back one node")},historyPush:function(){return console.log("Push - moving forward one node")}}})}).call(this);
(function(){Twingl.WebviewController=Ember.Controller.extend({needs:["navigation"],navigation:Ember.computed.alias("controllers.navigation"),url:"",navigate:function(n){return this.set("url",n)},navigateForward:function(){return $("webview")[0].forward()},navigateBack:function(){return $("webview")[0].back()},reload:function(){return $("webview")[0].reload()},actions:{loadStart:function(){return this.get("navigation").set("loading",!0)},loadStop:function(){return this.get("navigation").set("loading",!1)},loadRedirect:function(n){return n.originalEvent.isTopLevel?this.get("navigation").send("loadRedirect",n):void 0},loadCommit:function(n){return n.originalEvent.isTopLevel?($("webview")[0].executeScript({code:"document.title"},function(){return function(n){return document.title=n[0]}}(this)),this.get("navigation").send("loadCommit",n)):void 0},newWindow:function(n){return this.get("navigation").send("newWindow",n)}}})}).call(this);
(function(){Twingl.HistoryBackButton=Ember.Component.extend({tagName:"button",classNames:["t-history-back","t-nav-button"],action:"navigateHistoryBack",layoutName:"button",text:"Back",click:function(){return this.sendAction()}})}).call(this);
(function(){Twingl.HistoryForwardButton=Ember.Component.extend({tagName:"button",classNames:["t-history-forward","t-nav-button"],action:"navigateHistoryForward",layoutName:"button",text:"Forward",click:function(){return this.sendAction()}})}).call(this);
(function(){Twingl.HistoryReloadButton=Ember.Component.extend({tagName:"button",classNames:["t-history-reload","t-nav-button"],action:"navigateReload",layoutName:"button",text:"Reload",click:function(){return this.sendAction()}})}).call(this);
(function(){Twingl.UrlSubmitButton=Ember.Component.extend({tagName:"button",classNames:["t-url-submit","t-nav-button"],action:"navigateUrl",layoutName:"button",text:"Go",click:function(){return this.sendAction()}})}).call(this);
(function(){Twingl.UrlTextField=Ember.TextField.extend({classNames:["t-url-input"],placeholder:"http://example.com",action:"navigateUrl",attributeBindings:["value"],insertNewline:function(){return this.sendAction()}})}).call(this);
(function(){Twingl.Webview=Ember.View.extend({tagName:"webview",attributeBindings:["src"],webviewLoadCommit:function(e){return this.get("controller").send("loadCommit",e)},webviewLoadRedirect:function(e){return this.get("controller").send("loadRedirect",e)},webviewLoadStart:function(e){return this.get("controller").send("loadStart",e)},webviewLoadStop:function(e){return this.get("controller").send("loadStop",e)},webviewNewWindow:function(e){return this.get("controller").send("newWindow",e)}})}).call(this);
(function(){Twingl.IndexRoute=Ember.Route.extend({renderTemplate:function(){return this.render("browser/main",{outlet:"main",controller:"webview"}),this.render("navigation/browser",{outlet:"navigation",controller:"navigation"}),this.render("alt/tree",{outlet:"alt",controller:"tree"})}})}).call(this);
(function(){}).call(this);